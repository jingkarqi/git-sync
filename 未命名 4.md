# 冒泡排序曲线的极限形状

## 题目

考虑冒泡排序算法在散点图可视化中的行为。给定一个长度为 $N$ 的随机均匀打乱的列表，将其排序过程表示为三维点集：

$$D_N = \left\{\left(\frac{n}{N},\ H(n,I),\ \frac{I}{N}\right) \;\middle|\; n, I \in \{0,1,\dots,N-1\}\right\},$$

其中 $H(n,I)$ 表示列表在第 $I$ 轮迭代后索引 $n$ 处的数值（已归一化到 $[0,1]$ 区间）。

我们采用以下方式生成列表：从 $[0,1]$ 区间中独立均匀随机选择 $N$ 个实数作为列表元素。

---

### 定义（包含点与排除点）

设 $X_0 = (x_0, y_0, t_0) \in [0,1]^3$。

- **包含点**：若对任意 $\varepsilon > 0$，有 $\displaystyle\lim_{N \to \infty} P\bigl(\exists X \in D_N,\ \|X - X_0\| < \varepsilon\bigr) = 1$。
- **排除点**：若存在 $\varepsilon > 0$，使得 $\displaystyle\lim_{N \to \infty} P\bigl(\exists X \in D_N,\ \|X - X_0\| < \varepsilon\bigr) = 0$。

若 $[0,1]^3$ 中每个点都是包含点或排除点，则称冒泡排序的散点图**趋近于**所有包含点构成的集合。

---

### 问题

通过分析冒泡排序的"至今最大"（Greatest So Far）项性质，并应用剪切变换 $(x,y,t) \mapsto (x+t, y, t)$ 将问题转化为盒子计数问题，可证明冒泡排序的散点图趋近于一个确定的集合 $S \subset [0,1]^3$。

该集合 $S$ 由两部分组成：

1. **未排序区域**（对应 $x \leq 1-t$）：由双曲线边界下方的区域构成；
2. **已排序区域**（对应 $x > 1-t$）：由对角线构成。

请填写该集合 $S$ 的精确数学表达式：

$$S = \boxed{\left\{(x,y,t) \in [0,1]^3 \;\middle|\; \underline{\hspace{8cm}} \right\}}$$

---

## 标准答案

$$S = \boxed{\left\{(x,y,t) \in [0,1]^3 \;\middle|\; y \leq \dfrac{x}{x+t},\ x \leq 1-t\right\} \;\cup\; \left\{(x,x,t) \in [0,1]^3 \;\middle|\; x > 1-t\right\}}$$

### 验证要点

1. **边界曲线方程**：在未排序区域（$x \leq 1-t$），边界由双曲线 $y = \dfrac{x}{x+t}$ 给出；
2. **已排序区域**：当 $x > 1-t$ 时，散点图精确地位于对角线 $y = x$ 上；
3. **连续性**：在分界线 $x = 1-t$ 处，两部分在点 $(\frac{1-t}{1}, 1-t, t) = (1-t, 1-t, t)$ 处连续衔接；
4. **特殊时刻验证**：
   - $t = 0$ 时：$S = \{(x,y,0) \mid 0 \leq y \leq 1,\ 0 \leq x \leq 1\}$（整个单位正方形）；
   - $t = 1$ 时：$S = \{(x,x,1) \mid 0 \leq x \leq 1\}$（对角线）。

此答案唯一确定了冒泡排序可视化中所呈现的"曲线形状"的严格数学描述。