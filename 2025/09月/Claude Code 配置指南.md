---
tags:
  - Claude-Code
  - 工具权限
  - 权限管理
  - 模型配置
  - 自动化脚本
---
```json
{
  // -----------------------------------------------------------------
  // 模型配置 (Model Configuration)
  // -----------------------------------------------------------------
  // 设置 Claude Code 会话启动时使用的默认模型。
  // 这将被 --model 启动标志或会话内的 /model 命令覆盖。
  //
  // 可选值:
  // 1. 模型别名: "default", "opus", "sonnet", "haiku", "opusplan", "sonnet[1m]"
  // 2. 完整的模型名称: 例如 "anthropic.claude-sonnet-4-20250514-v1:0"
  // 3. (对于Bedrock用户) 模型的ARN
  "model": "sonnet",

  // -----------------------------------------------------------------
  // 权限配置 (Permissions Configuration)
  // -----------------------------------------------------------------
  // 定义 Claude Code 如何请求执行文件编辑、命令执行等操作的权限。
  "permissions": {
    // 设置会话启动时的默认权限模式。
    //
    // 可选值:
    // - "prompt": (默认) 对每个可能产生副作用的操作（如文件编辑、命令执行）都提示用户确认。
    // - "plan":   启动时进入“计划模式”。Claude 只会执行只读操作来分析代码库并制定计划，不会进行任何修改，除非您明确退出计划模式。
    // - "auto-accept": 启动时进入“全部接受”模式。Claude 将自动执行所有建议的操作，无需用户确认。请谨慎使用！
    "defaultMode": "prompt",

    // -----------------------------------------------------------------
    // 工具权限 (Tool Permissions)
    // -----------------------------------------------------------------
    // 预先批准或禁止特定的工具使用，以减少重复的权限请求。
    // 这对于自动化脚本和CI/CD环境特别有用。
    // 格式为 "工具名(参数模式)"，支持通配符 `*`。

    // 一个工具列表，这些工具将被自动允许执行，无需提示。
    // 示例: 总是允许读取文件和查看 git 的日志与差异。
    "allowedTools": [
      "Read",
      "ListFiles",
      "Bash(git log:*)",
      "Bash(git diff:*)",
      "Bash(git status)"
    ],

    // 一个工具列表，这些工具将被自动禁止执行，无需提示。
    // 示例: 永远不要允许删除文件或强制推送 git 提交。
    "disallowedTools": [
      "Bash(rm *)",
      "Bash(git push --force)"
    ]
  }

  // -----------------------------------------------------------------
  // 注意：不应在此处配置的项
  // -----------------------------------------------------------------
  // API密钥、认证令牌和基础URL等敏感信息或环境特定配置
  // 不应存储在此文件中。请使用环境变量进行配置：
  //
  // - ANTHROPIC_BASE_URL:    用于覆盖API请求的基础URL。
  // - ANTHROPIC_API_KEY:     您的API密钥。
  // - ANTHROPIC_AUTH_TOKEN:  您的认证令牌。
  //
  // 将这些值放入 .env 文件是管理它们的推荐做法。
}
```